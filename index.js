const House = [
  {
    id: 1,
    name: "House 1",
    instock: true,
    img: "https://cdn.tollbrothers.com/communities/13316/images-resized/Woodsons-Reserve---Executive_Valen-Modern-Farmhouse_Front-Elevetion_05_1920.jpg",
    type: "4 bedroom",
    area: "Westchester",
    category: "Luxury",
    price: 950000
  },
  {
    id: 2,
    name: "House 2",
    instock: true,
    img: "https://photos.zillowstatic.com/fp/c0f2c4c8932aef7f86fed2bb06fd90c3-cc_ft_768.webp",
    type: "3 bedroom",
    area: "Rochester",
    category: "Modern",
    price: 620000
  },
  {
    id: 3,
    name: "House 3",
    instock: true,
    img: "https://photos.zillowstatic.com/fp/1f0abc030fb118d8ade09a33d781be63-cc_ft_768.webp",
    type: "5 bedroom",
    area: "Albany",
    category: "Family",
    price: 780000
  },
  {
    id: 4,
    name: "House 4",
    instock: true,
    img: "https://photos.zillowstatic.com/fp/615112c53a9290232fd73394f77ab0df-cc_ft_768.webp",
    type: "4 bedroom",
    area: "Syracuse",
    category: "Classic",
    price: 710000
  },
  {
    id: 5,
    name: "House 5",
    instock: true,
    img: "https://photos.zillowstatic.com/fp/7c419cd24cc7e95051c3010e3681df81-cc_ft_768.webp",
    type: "3 bedroom",
    area: "Buffalo",
    category: "Beach",
    price: 540000
  },
  {
    id: 6,
    name: "House 6",
    instock: true,
    img: "https://3.files.edl.io/aeb1/20/12/02/154937-46cc468f-b7f4-4bb3-945e-3265bdb605d4.jpg",
    type: "2 bedroom",
    area: "Ithaca",
    category: "Modern",
    price: 480000
  },
  {
    id: 7,
    name: "House 7",
    instock: true,
    img: "https://cdn.tollbrothers.com/communities/13844/images-resized/Craftsman_Exterior_01_1920.jpg",
    type: "4 bedroom",
    area: "Poughkeepsie",
    category: "Craftsman",
    price: 690000
  },
  {
    id: 8,
    name: "House 8",
    instock: true,
    img: "https://cdn.tollbrothers.com/communities/13619/images-resized/Modern_Exterior_01_1920.jpg",
    type: "3 bedroom",
    area: "Binghamton",
    category: "Modern",
    price: 560000
  },
  {
    id: 9,
    name: "House 9",
    instock: true,
    img: "https://cdn.tollbrothers.com/communities/13316/images-resized/Colonial_Exterior_01_1920.jpg",
    type: "5 bedroom",
    area: "Schenectady",
    category: "Colonial",
    price: 820000
  },
  {
    id: 10,
    name: "House 10",
    instock: true,
    img: "https://cdn.tollbrothers.com/communities/13844/images-resized/Ranch_Exterior_01_1920.jpg",
    type: "3 bedroom",
    area: "Troy",
    category: "Ranch",
    price: 580000
  },
  {
    id: 11,
    name: "House 11",
    instock: true,
    img: "https://cdn.tollbrothers.com/communities/13619/images-resized/Tudor_Exterior_01_1920.jpg",
    type: "4 bedroom",
    area: "Jamestown",
    category: "Tudor",
    price: 760000
  },
  {
    id: 12,
    name: "House 12",
    instock: true,
    img: "https://cdn.tollbrothers.com/communities/13316/images-resized/Victorian_Exterior_01_1920.jpg",
    type: "6 bedroom",
    area: "Newburgh",
    category: "Victorian",
    price: 990000
  },
  {
    id: 13,
    name: "House 13",
    instock: true,
    img: "https://cdn.tollbrothers.com/communities/13844/images-resized/Beach_House_Exterior_01_1920.jpg",
    type: "3 bedroom",
    area: "Cortland",
    category: "Beach",
    price: 610000
  },
  {
    id: 14,
    name: "House 14",
    instock: true,
    img: "https://cdn.tollbrothers.com/communities/13619/images-resized/Mountain_Exterior_01_1920.jpg",
    type: "4 bedroom",
    area: "Lake Placid",
    category: "Mountain",
    price: 870000
  },
  {
    id: 15,
    name: "House 15",
    instock: true,
    img: "https://cdn.tollbrothers.com/communities/13316/images-resized/Suburban_Exterior_01_1920.jpg",
    type: "5 bedroom",
    area: "Elmira",
    category: "Family",
    price: 760000
  },
  {
    id: 16,
    name: "House 16",
    instock: true,
    img: "https://photos.zillowstatic.com/fp/f20980841d7daf56847d725de5096375-cc_ft_768.webp",
    type: "4 bedroom",
    area: "Kingston",
    category: "Modern",
    price: 730000
  },
  {
    id: 17,
    name: "House 17",
    instock: true,
    img: "https://photos.zillowstatic.com/fp/138224999599880f3e97ca396780d162-cc_ft_768.webp",
    type: "3 bedroom",
    area: "Glens Falls",
    category: "Contemporary",
    price: 590000
  },
  {
    id: 18,
    name: "House 18",
    instock: true,
    img: "https://photos.zillowstatic.com/fp/dbf626d4af3a67117a04bb31d80978f0-cc_ft_768.webp",
    type: "4 bedroom",
    area: "Ogdensburg",
    category: "Classic",
    price: 700000
  },
  {
    id: 19,
    name: "House 19",
    instock: true,
    img: "https://photos.zillowstatic.com/fp/164c3c217124fa695ccad24f6624f407-cc_ft_384.webp",
    type: "5 bedroom",
    area: "Hudson",
    category: "Colonial",
    price: 850000
  },
  {
    id: 20,
    name: "House 20",
    instock: true,
    img: "https://photos.zillowstatic.com/fp/b2bcd71b75faf9ff440d653a0a0901a3-cc_ft_768.webp",
    type: "3 bedroom",
    area: "Geneva",
    category: "Ranch",
    price: 560000
  }
];

const shoppingcart = [];
const container = document.querySelector(".container");
const cartContainer = document.querySelector(".cart-items");
const totalDisplay = document.getElementById("cart-total");


function inject(house) {
  container.insertAdjacentHTML(
    "beforeend",
    `
    <div class="card" data-title="${house.name}">
      <h2 class="card-header">${house.name}</h2>
      <img class="card-img" src="${house.img}" alt="${house.name}" />
      <h3 class="card-price">$${house.price.toLocaleString()}</h3>
      <button type="button">Buy House</button>
    </div>
    `
  );
}


House.forEach((house) => inject(house));


function getcard() {
  const buttons = document.querySelectorAll(".card button");

  buttons.forEach((btn) =>
    btn.addEventListener("click", function (event) {
      const card = event.target.closest(".card");
      const title = card.getAttribute("data-title");
      const house = House.find((h) => h.name === title);

     
      shoppingcart.push(house);
      renderCart();
    })
  );
}

getcard();


function renderCart() {
  cartContainer.innerHTML = "";

  shoppingcart.forEach((item) => {
    cartContainer.insertAdjacentHTML(
      "beforeend",
      `
      <div class="cart-item">
        <p class="cart-name">${item.name}</p>
        <p class="cart-price">$${item.price.toLocaleString()}</p>
      </div>
      `
    );
  });

 
  const total = shoppingcart.reduce((sum, item) => sum + item.price, 0);
  totalDisplay.textContent = total.toLocaleString();
}



function filterBycategory(category) {
  container.innerHTML = "";
  const filteredHouses = House.filter((house) => house.category === category);
  filteredHouses.forEach(inject);
  getcard(); 
}
